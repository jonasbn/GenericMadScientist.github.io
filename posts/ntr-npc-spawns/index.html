<!DOCTYPE html><html lang="en-GB" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="generator" content="Jekyll v4.2.2" /><meta property="og:title" content="NPC spawns in Yu-Gi-Oh! Nightmare Troubadour" /><meta property="og:locale" content="en_GB" /><meta name="description" content="In the previous post we looked at the details of how packs work in Yu-Gi-Oh! Nightmare Troubadour. In this post we’re going to look at how the game decides which NPCs to spawn, and a little about how the game places them on the map. Like the last post, this work was done on the PAL version of the game. I did have a quick peek at the corresponding data for the NTSC-U version though, because of the issue with Pegasus." /><meta property="og:description" content="In the previous post we looked at the details of how packs work in Yu-Gi-Oh! Nightmare Troubadour. In this post we’re going to look at how the game decides which NPCs to spawn, and a little about how the game places them on the map. Like the last post, this work was done on the PAL version of the game. I did have a quick peek at the corresponding data for the NTSC-U version though, because of the issue with Pegasus." /><link rel="canonical" href="/posts/ntr-npc-spawns/" /><meta property="og:url" content="/posts/ntr-npc-spawns/" /><meta property="og:site_name" content="GMS Ruins Video Games" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2021-07-09T20:39:39+01:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="NPC spawns in Yu-Gi-Oh! Nightmare Troubadour" /><meta name="twitter:site" content="@GMS_CH" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"BlogPosting","dateModified":"2021-07-09T20:39:39+01:00","datePublished":"2021-07-09T20:39:39+01:00","description":"In the previous post we looked at the details of how packs work in Yu-Gi-Oh! Nightmare Troubadour. In this post we’re going to look at how the game decides which NPCs to spawn, and a little about how the game places them on the map. Like the last post, this work was done on the PAL version of the game. I did have a quick peek at the corresponding data for the NTSC-U version though, because of the issue with Pegasus.","headline":"NPC spawns in Yu-Gi-Oh! Nightmare Troubadour","mainEntityOfPage":{"@type":"WebPage","@id":"/posts/ntr-npc-spawns/"},"url":"/posts/ntr-npc-spawns/"}</script><title>NPC spawns in Yu-Gi-Oh! Nightmare Troubadour | GMS Ruins Video Games</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="GMS Ruins Video Games"><meta name="application-name" content="GMS Ruins Video Games"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin><link rel="dns-prefetch" href="https://fonts.gstatic.com" crossorigin><link rel="preconnect" href="https://fonts.googleapis.com" ><link rel="dns-prefetch" href="https://fonts.googleapis.com" ><link rel="preconnect" href="https://cdn.jsdelivr.net" ><link rel="dns-prefetch" href="https://cdn.jsdelivr.net" ><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Lato&family=Source+Sans+Pro:wght@400;600;700;900&display=swap"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get MODE_ATTR() { return "data-mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } static get ID() { return "mode-toggle"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } let self = this; /* always follow the system prefers */ this.sysDarkPrefers.addEventListener("change", () => { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.notify(); }); } /* constructor() */ get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode === ModeToggle.DARK_MODE; } get isLightMode() { return this.mode === ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer)) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } setDark() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_ATTR, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_ATTR); sessionStorage.removeItem(ModeToggle.MODE_KEY); } /* Notify another plugins that the theme mode has changed */ notify() { window.postMessage({ direction: ModeToggle.ID, message: this.modeStatus }, "*"); } } /* ModeToggle */ const toggle = new ModeToggle(); function flipMode() { if (toggle.hasMode) { if (toggle.isSysDarkPrefer) { if (toggle.isLightMode) { toggle.clearMode(); } else { toggle.setLight(); } } else { if (toggle.isDarkMode) { toggle.clearMode(); } else { toggle.setDark(); } } } else { if (toggle.isSysDarkPrefer) { toggle.setLight(); } else { toggle.setDark(); } } toggle.notify(); } /* flipMode() */ </script><body data-spy="scroll" data-target="#toc" data-topbar-visible="true"><div id="sidebar" class="d-flex flex-column align-items-end"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" class="mx-auto"> <img src="/assets/img/avatar.png" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">GMS Ruins Video Games</a></div><div class="site-subtitle font-italic">Wherein I spend too much time with games</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw fas fa-info ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <button class="mode-toggle btn" aria-label="Switch Mode"> <i class="fas fa-adjust"></i> </button> <span class="icon-border"></span> <a href="https://github.com/GenericMadScientist" aria-label="github" target="_blank" rel="noopener"> <i class="fab fa-github-alt"></i> </a> <a href="https://twitter.com/GMS_CH" aria-label="twitter" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['rayw1710','gmail.com'].join('@')" aria-label="email" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" > <i class="fas fa-rss"></i> </a></div></div><div id="topbar-wrapper"><div id="topbar" class="container d-flex align-items-center justify-content-between h-100 pl-3 pr-3 pl-md-4 pr-md-4"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>NPC spawns in Yu-Gi-Oh! Nightmare Troubadour</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper" class="d-flex justify-content-center"><div id="main" class="container pl-xl-4 pr-xl-4"><div class="row"><div id="core-wrapper" class="col-12 col-lg-11 col-xl-9 pr-xl-4"><div class="post pl-1 pr-1 pl-md-2 pr-md-2"><h1 data-toc-skip>NPC spawns in Yu-Gi-Oh! Nightmare Troubadour</h1><div class="post-meta text-muted"> <span> Posted <em class="" data-ts="1625859579" data-df="ll" data-toggle="tooltip" data-placement="bottom"> Jul 9, 2021 </em> </span><div class="d-flex justify-content-between"> <span> By <em> <a href="https://github.com/GenericMadScientist">GenericMadScientist</a> </em> </span><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="1462 words"> <em>8 min</em> read</span></div></div></div><div class="post-content"><p>In the <a href="/posts/ntr-packs/">previous post</a> we looked at the details of how packs work in <a href="https://yugipedia.com/wiki/Yu-Gi-Oh!_Nightmare_Troubadour">Yu-Gi-Oh! Nightmare Troubadour</a>. In this post we’re going to look at how the game decides which NPCs to spawn, and a little about how the game places them on the map. Like the last post, this work was done on the PAL version of the game. I did have a quick peek at the corresponding data for the NTSC-U version though, because of the issue with Pegasus.</p><h2 id="overview"><span class="mr-2">Overview</span><a href="#overview" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Yu-Gi-Oh! Nightmare Troubadour does not merely present the player with a list of opponents to duel at any time they wish. Instead, the opponents exist on an overworld and must be found by the player. This can be seen as an evolution of the system introduced in <a href="https://yugipedia.com/wiki/Yu-Gi-Oh!_Duel_Monsters_6:_Expert_2">Duel Monsters 6: Expert 2</a>.</p><p><img data-src="/assets/img/ntr-first-city.png" alt="A player searching for opponents" data-proofer-ignore> <em>Konami’s take on Hot and Cold</em></p><p>The player moves a cursor around the city they’re in (past a certain point the player unlocks a second city). The cursor starts as blue, but when it gets close to an opponent it turns green. Closer still, it turns red. Finally when it’s very close the opponent will be detected and you have the option to face them. The amount of information you have on who an opponent is depends on details we need not go into here.</p><p>The opponents who have a chance of appearing depend on which of the two cities the player is in, what time of day it is (there is an in-game day/night cycle), and how far the player has progressed through the story. So first question, who can appear and when?</p><h2 id="who-wants-to-play"><span class="mr-2">Who wants to play?</span><a href="#who-wants-to-play" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>Time in Nightmare Troubadour is a value from 0 to 255. The symbol the game uses for time changes for each quarter of the day, but the game additionally subdivides each quarter into four smaller quarters. The sixteenth of the day affects which opponents can spawn.</p><p><img data-src="/assets/img/ntr-times-of-day.png" alt="Images showing each sixteenth of the day" data-proofer-ignore> <em>The earliest time of each sixteenth of the day</em></p><p>Progress through the story is represented by two values, a stage and a substage. The stage goes from zero to ten; the substage’s range of values depends on the current stage. I have not spent the time to work out the conditions that must be met to progress to the next stage or substage. Some educated guesses are possible, and I suspect the simplest way to work out the troublesome ones would be to experiment with savestates while looking at the relevant values. The stage is a two-byte value at 0x2097460, while the substage is the byte at 0x2097464.</p><p>Using these values, the game builds the list of opponents that can spawn subject to those conditions. I’ve put the data into <a href="/assets/data/ntr-opponents-pal.xml">this XML file</a>. Each element has the time, stage, substage, and the city corresponding to the data.</p><p>The next important thing is the PRNG used. Like with packs, it’s an LCG, but it’s a different LCG. I have included an auxiliary method called <code class="language-plaintext highlighter-rouge">randnum</code> that gives a procedure the game often uses to generate a random number from 0 to upper_bound - 1 for some upper bound.</p><div class="language-python highlighter-rouge"><div class="code-header"> <span data-label-text="Python"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre><span class="k">class</span> <span class="nc">Prng</span><span class="p">:</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">seed</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">__seed</span> <span class="o">=</span> <span class="n">seed</span>

    <span class="k">def</span> <span class="nf">rand</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="bp">self</span><span class="p">.</span><span class="n">__seed</span> <span class="o">=</span> <span class="p">(</span><span class="mh">0x41C64E6D</span> <span class="o">*</span> <span class="bp">self</span><span class="p">.</span><span class="n">__seed</span> <span class="o">+</span> <span class="mh">0x3039</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0xFFFFFFFF</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">__seed</span> <span class="o">&gt;&gt;</span> <span class="mi">16</span><span class="p">)</span> <span class="o">&amp;</span> <span class="mh">0x7FFF</span>

    <span class="k">def</span> <span class="nf">randnum</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">upper_bound</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">(</span><span class="bp">self</span><span class="p">.</span><span class="n">rand</span><span class="p">()</span> <span class="o">*</span> <span class="n">upper_bound</span><span class="p">)</span> <span class="o">//</span> <span class="mi">32768</span>
</pre></table></code></div></div><p>It appears the game initialises the seed with the number of frames elapsed since power-on when the player clicks on Continue. I haven’t thoroughly tested it but it doesn’t appear to be called every frame or anything like that, so manip should be very viable. Whether it’d be worthwhile is another matter.</p><p>With the PRNG set up, the game looks at a base count for the number of opponents to spawn. This only depends on the city, stage (not substage), and time, and is included in the XML as <code class="language-plaintext highlighter-rouge">baseCount</code>. The game generates a random number from 0 to <code class="language-plaintext highlighter-rouge">baseCount</code> - 3, then adds 3, so it’s a random number from 3 to <code class="language-plaintext highlighter-rouge">baseCount</code>. This is with the exception of the case where <code class="language-plaintext highlighter-rouge">baseCount</code> is 2, in which case it is instead always 3. This random number is meant to be how many opponents the game spawns.</p><p>If the number of opponents to spawn is at least as great as the possible number of opponents, the game spawns all of them. Otherwise it randomly selects the desired amount out of the list of possible opponents. For this purpose, each of the possible opponents comes with a ‘spawn rate’, and roughly speaking a higher spawn rate means a higher chance of the opponent being selected. Some Python giving how the game goes about the selection is given below.</p><div class="language-python highlighter-rouge"><div class="code-header"> <span data-label-text="Python"><i class="fas fa-code small"></i></span> <button aria-label="copy" data-title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
</pre><td class="rouge-code"><pre><span class="k">def</span> <span class="nf">select_available_opponents</span><span class="p">(</span><span class="n">prng</span><span class="p">,</span> <span class="n">opponent_list</span><span class="p">,</span> <span class="n">base_count</span><span class="p">):</span>
    <span class="c1"># opponent_list is an array of (opponent_name, spawn_rate)
</span>    <span class="n">count</span> <span class="o">=</span> <span class="n">prng</span><span class="p">.</span><span class="n">randnum</span><span class="p">(</span><span class="n">base_count</span> <span class="o">-</span> <span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="mi">3</span>
    <span class="k">if</span> <span class="n">count</span> <span class="o">&gt;=</span> <span class="nb">len</span><span class="p">(</span><span class="n">opponent_list</span><span class="p">):</span>
        <span class="k">return</span> <span class="p">[</span><span class="n">opp</span> <span class="k">for</span> <span class="n">opp</span><span class="p">,</span> <span class="n">_</span> <span class="ow">in</span> <span class="n">opponent_list</span><span class="p">]</span>
    <span class="n">opponents</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="c1"># This copy is so we can safely modify the local list
</span>    <span class="n">opponent_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">opponent_list</span><span class="p">]</span>
    <span class="n">total_spawn_rate</span> <span class="o">=</span> <span class="nb">sum</span><span class="p">(</span><span class="n">prob</span> <span class="k">for</span> <span class="n">_</span><span class="p">,</span> <span class="n">prob</span> <span class="ow">in</span> <span class="n">opponent_list</span><span class="p">)</span>
    <span class="k">while</span> <span class="nb">len</span><span class="p">(</span><span class="n">opponents</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">count</span><span class="p">:</span>
        <span class="n">slot</span> <span class="o">=</span> <span class="n">prng</span><span class="p">.</span><span class="n">randnum</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">opponent_list</span><span class="p">))</span>
        <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
            <span class="n">character</span><span class="p">,</span> <span class="n">char_prob</span> <span class="o">=</span> <span class="n">opponent_list</span><span class="p">[</span><span class="n">slot</span><span class="p">]</span>
            <span class="n">threshold</span> <span class="o">=</span> <span class="p">(</span><span class="n">char_prob</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)</span> <span class="o">//</span> <span class="n">total_spawn_rate</span>
            <span class="k">if</span> <span class="n">prng</span><span class="p">.</span><span class="n">randnum</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">threshold</span><span class="p">:</span>
                <span class="k">break</span>
            <span class="n">slot</span> <span class="o">=</span> <span class="p">(</span><span class="n">slot</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="n">opponent_list</span><span class="p">)</span>
        <span class="n">opponents</span><span class="p">.</span><span class="n">append</span><span class="p">(</span><span class="n">character</span><span class="p">)</span>
        <span class="n">opponent_list</span> <span class="o">=</span> <span class="n">opponent_list</span><span class="p">[:</span><span class="n">slot</span><span class="p">]</span> <span class="o">+</span> <span class="n">opponent_list</span><span class="p">[</span><span class="n">slot</span><span class="o">+</span><span class="mi">1</span><span class="p">:]</span>
    <span class="k">return</span> <span class="n">opponents</span>
</pre></table></code></div></div><h2 id="where-shall-we-play"><span class="mr-2">Where shall we play?</span><a href="#where-shall-we-play" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>This is only half of the puzzle. Once the game has decided who to spawn, the game then has to decide where on the map to place them. I have not worked out all the details of this process, but I have enough to be worth documenting.</p><p>The game goes through the spawned opponents in order of their ID, rather than the order returned from the above procedure. This order can be inferred from the XML, where the available opponents start ordered by their ID. For each one, the game generates a position for them. It does this by continually generating random points until it finds one far enough away from all previously placed opponents, the player, and it seems any visible buildings on the map. This includes the train station, card shop, the player’s home, the Duel Base, and probably places like the location of the Expert Cup finalists party and the building Serenity is taken to. There is an additional check on the generated location, which I believe is how the game makes sure to not spawn opponents in the middle of the sea.</p><p><img data-src="/assets/img/ntr-sea.png" alt="A player searching for opponents in the sea" data-proofer-ignore> <em>Poseidon does not care to duel you</em></p><p>The function that keeps generating a random point until a valid one is found is called FUN_overlay_d_15__022630c0 by Ghidra, in case anyone wishes to investigate further.</p><h2 id="loose-ends-passersby-and-shadow-games"><span class="mr-2">Loose ends: passersby and Shadow Games</span><a href="#loose-ends-passersby-and-shadow-games" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>I have not looked much into passersby or duelists who intercept you and force you into a Shadow Game, but it probably isn’t complicated. For passersby, it appears the game may add one after assigning a position to all spawned duelists, with a spawn rate of 0%, 20%, or 100%. If one is spawned, they are assigned a position the same way duelists are.</p><p>In the function that takes care of selecting which opponents to spawn, there is a branch for the case where the game wants to spawn an opponent to challenge you to a Shadow Game. It goes the same as <code class="language-plaintext highlighter-rouge">select_available_opponents</code> usually does, except <code class="language-plaintext highlighter-rouge">count</code> will always be one and not consult <code class="language-plaintext highlighter-rouge">base_count</code>. <a href="/assets/data/ntr-shadow-game-opponents.xml">Here</a> is a similar XML for such opponents.</p><h2 id="pegasus"><span class="mr-2">Pegasus</span><a href="#pegasus" class="anchor text-muted"><i class="fas fa-hashtag"></i></a></h2><p>It is well-known amongst players of Nightmare Troubadour that there is a bug preventing Pegasus from spawning in the NTSC versions once Odion has been defeated for the first time. This means that if not already obtained, the player is locked out of Pegasus’ Deck Recipe. Furthermore, since Imperial Order is a postgame trade, it is impossible to obtain a copy legitimately with just an NTSC-U copy of the game.</p><p>I had a quick glance at the corresponding code for the NTSC-U version and found no relevant differences. However, there are differences in the data giving which opponents can spawn and therein lies the answer. I have placed the NTSC-U data <a href="/assets/data/ntr-opponents-ntsc.xml">here</a> for convenience. The only difference is Pegasus is not listed as spawning in stage ten at all, and in any city/time/substage combination in which he spawns in stage ten, he is removed and <code class="language-plaintext highlighter-rouge">baseCount</code> is one lower. As a curious consequence, note that this still means that he is not present for stage nine, which is probably from after the player first defeats Odion up until Yami Marik is defeated.</p><p>There is no difference in the data for opponents who intercept the player and force them into a Shadow Game.</p></div><div class="post-tail-wrapper text-muted"><div class="post-meta mb-3"> <i class="far fa-folder-open fa-fw mr-1"></i> <a href='/categories/yu-gi-oh-nightmare-troubadour/'>Yu-Gi-Oh! Nightmare Troubadour</a></div><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=NPC+spawns+in+Yu-Gi-Oh%21+Nightmare+Troubadour+-+GMS+Ruins+Video+Games&url=%2Fposts%2Fntr-npc-spawns%2F" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=NPC+spawns+in+Yu-Gi-Oh%21+Nightmare+Troubadour+-+GMS+Ruins+Video+Games&u=%2Fposts%2Fntr-npc-spawns%2F" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=NPC+spawns+in+Yu-Gi-Oh%21+Nightmare+Troubadour+-+GMS+Ruins+Video+Games&url=%2Fposts%2Fntr-npc-spawns%2F" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" data-title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted"><div class="access"></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"><div class="panel-heading pl-3 pt-2 mb-2">Contents</div><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 pl-3 pr-3 pr-xl-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/posts/ntr-packs/"><div class="card-body"> <em class="small" data-ts="1624571255" data-df="ll" > Jun 24, 2021 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Packs in Yu-Gi-Oh! Nightmare Troubadour</h3><div class="text-muted small"><p> Yu-Gi-Oh! Nightmare Troubadour is the first Yu-Gi-Oh! game for the Nintendo DS. I don’t consider it to be especially good, and unless you’re dying for a Yu-Gi-Oh! game with the original cast, I’d s...</p></div></div></a></div><div class="card"> <a href="/posts/ntr-friendship/"><div class="card-body"> <em class="small" data-ts="1626715922" data-df="ll" > Jul 19, 2021 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Friends in Yu-Gi-Oh! Nightmare Troubadour</h3><div class="text-muted small"><p> This is the third and final post I plan to do on Yu-Gi-Oh! Nightmare Troubadour. I may come back to it at a later date, but for now I’ve worked out everything I really wanted to know. Like the prev...</p></div></div></a></div><div class="card"> <a href="/posts/how-chopt-works/"><div class="card-body"> <em class="small" data-ts="1654539960" data-df="ll" > Jun 6, 2022 </em><h3 class="pt-0 mt-1 mb-3" data-toc-skip>How CHOpt works</h3><div class="text-muted small"><p> When I made this blog I envisioned myself talking about how other people’s programs work. However, I’ve had plenty of people ask me how my own program CHOpt works, so today I’m going to talk about ...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/posts/ntr-packs/" class="btn btn-outline-primary" prompt="Older"><p>Packs in Yu-Gi-Oh! Nightmare Troubadour</p></a> <a href="/posts/ntr-friendship/" class="btn btn-outline-primary" prompt="Newer"><p>Friends in Yu-Gi-Oh! Nightmare Troubadour</p></a></div></div></div><footer class="row pl-3 pr-3"><div class="col-12 d-flex justify-content-between align-items-center text-muted pl-0 pr-0"><div class="footer-left"><p class="mb-0"> © 2023 <a href="https://github.com/GenericMadScientist">GenericMadScientist</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a><div id="notification" class="toast" role="alert" aria-live="assertive" aria-atomic="true" data-animation="true" data-autohide="false"><div class="toast-header"> <button type="button" class="ml-2 ml-auto close" data-dismiss="toast" aria-label="Close"> <span aria-hidden="true">&times;</span> </button></div><div class="toast-body text-center pt-0"><p class="pl-2 pr-2 mb-3">A new version of content is available.</p><button type="button" class="btn btn-primary" aria-label="Update"> Update </button></div></div><script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No results found.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/lozad/dist/lozad.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/dayjs@1/dayjs.min.js,npm/dayjs@1/locale/en.min.js,npm/dayjs@1/plugin/relativeTime.min.js,npm/dayjs@1/plugin/localizedFormat.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.bundle.min.js"></script> <script defer src="/app.js"></script> <script data-goatcounter="https://gmsblog.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script>
